
from matplotlib import pyplot as plt
from plotnine import *
import pandas as pd
# Dataset to be filled in
data = [
        ("2023年第一季度", 165474.9, 12257.4, 94823.3),
        ("2022年第四季度", 169410.7, 35056.7, 106845.4),
        ("2022年第三季度", 161945.1, 26818.2, 100044.3),
        ("2022年第二季度", 153066.1, 19126.0, 100899.2),
        ("2022年第一季度", 154275.8, 11581.5, 93855.4),
        ("2021年第四季度", 163427.9, 32921.4, 105943.5),
        ("2021年第三季度", 154512.7, 24150.0, 93386.3),
        ("2021年第二季度", 151225.6, 17981.8, 94071.1),
        ("2021年第一季度", 145310.3, 11941.5, 81144.7),
        ("2020年第四季度", 152183.9, 30915.4, 89798.9),
        ("2020年第三季度", 142300.1, 23065.3, 80570.6),
        ("2020年第二季度", 134883.4, 16668.1, 79015.9),
        ("2020年第一季度", 122606.3, 10747.7, 63517.6),
        ("2019年第四季度", 141603.5, 28583.8, 85279.9),
        ("2019年第三季度", 134825.2, 20632.8, 78196.3),
        ("2019年第二季度", 131139.0, 15111.7, 78490.1),
        ("2019年第一季度", 127803.3, 9248.7, 69892.4),
        ("2018年第四季度", 129846.2, 25929.0, 82822.1),
        ("2018年第三季度", 123134.9, 18961.8, 76239.6),
        ("2018年第二季度", 119857.8, 13662.2, 75122.1),
        ("2018年第一季度", 116861.8, 9005.8, 66905.6),
        ("2017年第四季度", 117067.8, 23915.8, 76782.9),
        ("2017年第三季度", 109959.5, 18944.2, 69327.2),
        ("2017年第二季度", 106982.4, 13204.2, 68099.8),
        ("2017年第一季度", 104346.3, 8595.8, 60909.3),
        ("2016年第四季度", 104334.0, 22577.8, 68998.4),
        ("2016年第三季度", 98067.8, 18162.2, 61902.5),
        ("2016年第二季度", 95435.8, 13045.5, 60839.2),
        ("2016年第一季度", 92990.5, 8665.5, 53666.4),
        ("2015年第四季度", 92840.6, 22130.4, 63176.9),
        ("2015年第三季度", 87897.9, 17739, 58993.0),
        ("2015年第二季度", 85747.4, 12296.2, 59327.9),
        ("2015年第一季度", 83258.8, 7686.8, 53471.1),
        ("2014年第四季度", 82580.9, 21172.1, 63201.5),
        ("2014年第三季度", 77658.7, 17371.0, 58904.0),
        ("2014年第二季度", 75921.9, 11500.6, 58432.3),
        ("2014年第一季度", 74492.4, 7428.5, 52659.5),
        ("2013年第四季度", 73696.6, 20447.1, 61057.5),
        ("2013年第三季度", 69569.1, 16367.0, 55882.1),
        ("2013年第二季度", 67998.6, 10748.2, 55266.2),
        ("2013年第一季度", 66719.3, 7130.2, 50127.3)
        ]
## Create a DataFrame using the data list
df = pd.DataFrame(data, columns=["日期", "服务业(亿元)", "农业(亿元)", "工业(亿元)"])
# Creating a bar chart using plotnine to represent the three industries
(ggplot(df,aes(x='日期',y='服务业(亿元)',fill='日期'))
 + geom_bar(stat='identity')
 + geom_bar(aes(y='农业(亿元)'),stat='identity',position='dodge')
 + geom_bar(aes(y='工业(亿元)'),stat='identity',position='dodge')
 + ggtitle("三个产业的条形图")
 + xlab('')
 + ylab('亿元')
 + theme(text=element_text(family='SimHei',size=12))
)

